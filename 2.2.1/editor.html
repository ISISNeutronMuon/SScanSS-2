<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Instrument Editor &#8212; SScanSS 2 2.2.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/style.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Generate Positioner Description" href="calibration.html" />
    <link rel="prev" title="Customizing Instrument Script" href="customize_script.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          SScanSS 2</a>
        <span class="navbar-text navbar-version pull-left"><b>2.2.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="api.html">API</a></li>
                <li><a href="tutorials.html">Tutorials</a></li>
                <li><a href="guides.html">User Guide</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api.html">Developer guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="guides.html">User guide</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Instrument Editor</a><ul>
<li><a class="reference internal" href="#graphical-user-interface">Graphical User Interface</a><ul>
<li><a class="reference internal" href="#menu-bar">Menu Bar</a></li>
<li><a class="reference internal" href="#json-editor">JSON Editor</a></li>
<li><a class="reference internal" href="#graphic-window">Graphic Window</a></li>
<li><a class="reference internal" href="#issues-window">Issues Window</a></li>
<li><a class="reference internal" href="#designer">Designer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#controlling-the-instrument">Controlling the Instrument</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="instrument-editor">
<h1>Instrument Editor<a class="headerlink" href="#instrument-editor" title="Permalink to this heading">¶</a></h1>
<p>This is a tool for modifying instrument description files for SScanSS 2. The editor simplifies the creation and
modification of instrument description files by providing real-time validation against the instrument schema and
giving user friendly error messages to the developer. It will also validate that referenced files (3D model,
templates etc) exists.</p>
<a class="reference internal image-reference" href="_images/editor.png"><img alt="Instrument Editor" class="align-center" src="_images/editor.png" style="width: 513.0px; height: 416.0px;" /></a>
<section id="graphical-user-interface">
<h2>Graphical User Interface<a class="headerlink" href="#graphical-user-interface" title="Permalink to this heading">¶</a></h2>
<p>The user interface of the instrument editor consists of a menu bar on top and a main widget which is divided into three
regions. The main widget contains the graphics window on the left, the JSON editor on the right, and the message window
on the bottom. These regions are separated by splitters which allows adjustment of the size of the regions by dragging
the boundary between them.</p>
<section id="menu-bar">
<h3>Menu Bar<a class="headerlink" href="#menu-bar" title="Permalink to this heading">¶</a></h3>
<p>There are five menus on the menu bar:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Menu</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>File</p></td>
<td><p>Create new, open and save instrument
description JSON file. Access and update
preferences such as editor font.</p></td>
</tr>
<tr class="row-odd"><td><p>Edit</p></td>
<td><p>Search for text within the editor json file.</p></td>
</tr>
<tr class="row-even"><td><p>View</p></td>
<td><p>Change camera view in the graphics window,
open instrument control, rest instrument and
hide/show the coordinate frame.</p></td>
</tr>
<tr class="row-odd"><td><p>Tool</p></td>
<td><p>Tools for updating the description file and
generating description from positioner
measurements.</p></td>
</tr>
<tr class="row-even"><td><p>Help</p></td>
<td><p>Offers on-line documentation for Editor and
instrument description API.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="json-editor">
<h3>JSON Editor<a class="headerlink" href="#json-editor" title="Permalink to this heading">¶</a></h3>
<p>The JSON editor is a QScintilla-based text editor that supports JSON highlighting, line numbers, copy and paste etc.
The instrument description is validated in real-time as changes are made in the editor. The developer would be prompted
to save if an attempt is made to close the editor without saving. The editor can provide autocomplete suggestions for
keywords when the user is actively writing an instrument descriptor file (See <a class="reference internal" href="idf.html#instrument-description-file-idf"><span class="std std-ref">IDF</span></a>),
as well as automatically matching braces.</p>
</section>
<section id="graphic-window">
<h3>Graphic Window<a class="headerlink" href="#graphic-window" title="Permalink to this heading">¶</a></h3>
<p>The graphics window is the same as the one used in SScanSS 2 (See <a class="reference internal" href="scene.html#navigation"><span class="std std-ref">navigation</span></a>). It supports scene
rotation with the left mouse button, panning with the right mouse button and zooming with the mouse wheel.</p>
</section>
<section id="issues-window">
<h3>Issues Window<a class="headerlink" href="#issues-window" title="Permalink to this heading">¶</a></h3>
<p>The issue window informs the developer if the instrument description is valid. The window will display JSON format
errors, instrument schema errors and others.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>An error will be thrown if a required keyword is missing but no error will be thrown if optional
keywords are missing. Mis-spelling an optional keyword will not result in an error so it is important
to double check optional keywords.</p>
</div>
</section>
<section id="designer">
<h3>Designer<a class="headerlink" href="#designer" title="Permalink to this heading">¶</a></h3>
<p>The designer provides a set of forms for adding and updating the components of the instrument description (i.e. jaws,
collimators, positioners etc.). To open the designer, click <strong>Tools &gt; Designer</strong> and select the desired component. The
form will open in a tab next to the issues window and the form will contain the current json values. After changing the
form inputs, click the <strong>Update Entry</strong> button to change the json values in the editor.</p>
<a class="reference internal image-reference" href="_images/editor_designer.png"><img alt="Editor Designer" class="align-center" src="_images/editor_designer.png" style="width: 513.0px; height: 416.0px;" /></a>
<p>The designer form will validate the required inputs and update the json values. If the json in the editor is invalid
(i.e. missing delimiters), the form will be disabled, address the error message in issues tab to fix the json in the
editor and re-enable the form.</p>
<a class="reference internal image-reference" href="_images/editor_issues.png"><img alt="Editor Issues Window" class="align-center" src="_images/editor_issues.png" style="width: 513.0px; height: 416.0px;" /></a>
</section>
</section>
<section id="controlling-the-instrument">
<h2>Controlling the Instrument<a class="headerlink" href="#controlling-the-instrument" title="Permalink to this heading">¶</a></h2>
<p>When an instrument description file is opened in the editor, the instrument will be loaded in the default state with
the first positioning stack, default collimator and jaws state. The state of the instrument can be changed from the
control dialog. The dialog can be opened by clicking <strong>View &gt; Instrument Control</strong></p>
<a class="reference internal image-reference" href="_images/editor_controls.png"><img alt="Editor Controls" class="align-center" src="_images/editor_controls.png" style="width: 312.0px; height: 327.0px;" /></a>
<p>The control dialog contains the following tabs:</p>
<ul>
<li><p><strong>Positioner</strong></p>
<p>The joints in the positioner can be moved and the positioning stack changed.</p>
</li>
<li><p><strong>Jaws</strong></p>
<p>The jaws position and the aperture size can be changed.</p>
</li>
<li><p><strong>Detector</strong></p>
<p>The detector position and the collimator model can be changed. There will be a tab for each detector</p>
</li>
<li><p><strong>Script</strong></p>
<p>A random set of joint positions for the active positioning stack would be rendered using the script template.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the instrument description is invalid (i.e. message window has an error), the control dialog will not be
populated with tabs or tabs will be removed if they were added already.</p>
</div>
<p>The instrument can be returned to the default state by clicking <strong>View &gt; Reset Instrument</strong> or by pressing <strong>F5</strong> on the
keyboard.</p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2018-2025, ISIS Neutron and Muon Source.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>