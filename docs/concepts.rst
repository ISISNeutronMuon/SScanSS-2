==============
Basic Concepts
==============
SScanSS is used to simulate the positioning of a strain scanning neutron diffractometer. The following concepts are
essential when using the software.

******
Sample
******
The sample is a digitized model of the object which is being evaluated for strain. The sample could be a triangular mesh
acquired by a scanning device such as a LASER scanner or created in a CAD software. The sample could also be a volume
generated from tomographic reconstruction.

The sample can be a partial model of the object but should contain the region where the measurements would be done. A
partial model could be useful if acquiring the full model is not possible or to reduce the model size. SScanSS should
work seamlessly on partial models but features such as :ref:`collision detection` and :ref:`path length calculation`
may be incorrect because of the incomplete model.

***************
Fiducial Points
***************
Fiducial points are a rigid set of points on the sample that are used to determine the position and orientation of the
sample within the instrument. The coordinates of the fiducial points, (in the same coordinate system as the sample
model), are required by the software. The type of fiducial points used will depend on the sample and the measurement
equipment available. For example if a sample model is generated by LASER scanning, stainless steel spheres, (ball
bearings), could be glued to sample prior to scanning. The centres of the spheres could then be determined by fitting
spheres to the scanned model or by probing the spheres in the same coordinate frame as the scanner.

.. tip:: Fiducial points should be rigidly mounted on the sample before digitizing the sample. The sample could move
         if the fiducials are mounted after digitization which would lead to errors in the simulation.

A minimum of three fiducial points are required which must not be placed along a line but randomly on the sample in
positions that are visible/reachable from the measurement equipment when on the instrument. It is generally better to
set up 5 to 7 points since using more that three points could lead to more robust and accurate position and orientation
estimation, and also adds redundancy if some points are lost.

|fiducial 1|  |fiducial 2|

*Sample with retro-reflective fiducials (left) laser tracker target holder (right)*

******************
Measurement Points
******************
Measurement points are the points in the sample at which the strain will be measured by the diffractometer. The number
of measurement point will vary from experiment to experiment but it important to ensure the measurement points are
placed correctly and visually line up with the features being measured in the 3D view.

*******************
Measurement Vectors
*******************
Measurement vectors are the components of the stain tensor to be measured at each measurement point. Some instruments
can measure 2 components simultaneously while some have positioning system that can reorient the sample without human
intervention to acquire all 3 or more strain components. Both situations can be handled using SScanSS.

**********
Simulation
**********
SScanSS performs inverse kinematics simulations to determine how to move the instrument such that each measurement
point is placed at the center of the gauge volume of the diffractometer and in an orientation that aligns with the
Q-vector(s) of the diffractometer.


.. |fiducial 1| image:: images/ball_fiducial.png
   :width: 45%

.. |fiducial 2| image:: images/smr_fiducial.png
   :width: 45%